{% extends 'base.html.twig' %}

{% set countOrder = 0 %}
{% set countVisit = 0 %}
{% set countIncome = 0 %}

{% for element in statistics %}
    {% if element.statisticType == 'NB_COMMANDES' %}
        {% set countOrder = countOrder + 1 %}
    {% elseif element.statisticType == 'NB_VISITES' %}
        {% set countVisit = countVisit + 1 %}
    {% elseif element.statisticType == 'CA_JOURNALIER' %}
        {% set countIncome = countIncome + 1 %}
    {% endif %}
{% endfor %}

{% block title %}Acc√©der aux statistiques de {{ restaurant.name }}{% endblock %}

{% block main %}

    <div class="d-flex flex-column align-items-center mt-5">
        {% if countOrder > 0 %}
            <a href="{{ path('app_statistic_show', { id : restaurant.id, type : 'order' }) }}">
                <span class="btn btn-secondary">Commandes</span>
            </a>
        {% endif %}
        {% if countVisit > 0 %}
            <a href="{{ path('app_statistic_show', { id : restaurant.id, type : 'visit' }) }}">
                <span class="btn btn-secondary">Visites</span>
            </a>
        {% endif %}
        {% if countIncome > 0 %}
            <a href="{{ path('app_statistic_show', { id : restaurant.id, type : 'income' }) }}">
                <span class="btn btn-secondary">Chiffre d'affaire</span>
            </a>
        {% endif %}
        <div class="mb-0">
            <a href="{{ path('app_restaurant_manage', {id : restaurant.id}) }}" class="btn btn-primary">Retour au menu de Gestion</a>
        </div>
    </div>



{% endblock %}
